% This is "sig-alternate.tex" V2.1 April 2013
% This file should be compiled with V2.5 of "sig-alternate.cls" May 2012
%
% This example file demonstrates the use of the 'sig-alternate.cls'
% V2.5 LaTeX2e document class file. It is for those submitting
% articles to ACM Conference Proceedings WHO DO NOT WISH TO
% STRICTLY ADHERE TO THE SIGS (PUBS-BOARD-ENDORSED) STYLE.
% The 'sig-alternate.cls' file will produce a similar-looking,
% albeit, 'tighter' paper resulting in, invariably, fewer pages.
%
% ----------------------------------------------------------------------------------------------------------------
% This .tex file (and associated .cls V2.5) produces:
%       1) The Permission Statement
%       2) The Conference (location) Info information
%       3) The Copyright Line with ACM data
%       4) NO page numbers
%
% as against the acm_proc_article-sp.cls file which
% DOES NOT produce 1) thru' 3) above.
%
% Using 'sig-alternate.cls' you have control, however, from within
% the source .tex file, over both the CopyrightYear
% (defaulted to 200X) and the ACM Copyright Data
% (defaulted to X-XXXXX-XX-X/XX/XX).
% e.g.
% \CopyrightYear{2007} will cause 2007 to appear in the copyright line.
% \crdata{0-12345-67-8/90/12} will cause 0-12345-67-8/90/12 to appear in the copyright line.
%
% ---------------------------------------------------------------------------------------------------------------
% This .tex source is an example which *does* use
% the .bib file (from which the .bbl file % is produced).
% REMEMBER HOWEVER: After having produced the .bbl file,
% and prior to final submission, you *NEED* to 'insert'
% your .bbl file into your source .tex file so as to provide
% ONE 'self-contained' source file.
%
% ================= IF YOU HAVE QUESTIONS =======================
% Questions regarding the SIGS styles, SIGS policies and
% procedures, Conferences etc. should be sent to
% Adrienne Griscti (griscti@acm.org)
%
% Technical questions _only_ to
% Gerald Murray (murray@hq.acm.org)
% ===============================================================
%
% For tracking purposes - this is V2.0 - May 2012



\documentclass{sig-alternate-05-2015}

\begin{document}

% Copyright
\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\setcopyright{usgov}
%\setcopyright{usgovmixed}
%\setcopyright{cagov}
%\setcopyright{cagovmixed}


% DOI
\doi{10.475/123_4}

% ISBN
\isbn{123-4567-24-567/08/06}

%Conference
\conferenceinfo{PLDI '13}{June 16--19, 2013, Seattle, WA, USA}

\acmPrice{\$15.00}

%
% --- Author Metadata here ---
\conferenceinfo{WOODSTOCK}{'97 El Paso, Texas USA}
%\CopyrightYear{2007} % Allows default copyright year (20XX) to be over-ridden - IF NEED BE.
%\crdata{0-12345-67-8/90/01}  % Allows default copyright data (0-89791-88-6/97/05) to be over-ridden - IF NEED BE.
% --- End of Author Metadata ---

\title{ Mining HIV Trends in Social Media Data}
%
% You need the command \numberofauthors to handle the 'placement
% and alignment' of the authors beneath the title.
%
% For aesthetic reasons, we recommend 'three authors at a time'
% i.e. three 'name/affiliation blocks' be placed beneath the title.
%
% NOTE: You are NOT restricted in how many 'rows' of
% "name/affiliations" may appear. We just ask that you restrict
% the number of 'columns' to three.
%
% Because of the available 'opening page real-estate'
% we ask you to refrain from putting more than six authors
% (two rows with three columns) beneath the article title.
% More than six makes the first-page appear very cluttered indeed.
%
% Use the \alignauthor commands to handle the names
% and affiliations for an 'aesthetic maximum' of six authors.
% Add names, affiliations, addresses for
% the seventh etc. author(s) as the argument for the
% \additionalauthors command.
% These 'additional authors' will be output/set for you
% without further effort on your part as the last section in
% the body of your article BEFORE References or any Appendices.

\numberofauthors{2} %  in this sample file, there are a *total*
% of EIGHT authors. SIX appear on the 'first-page' (for formatting
% reasons) and the remaining two appear in the \additionalauthors section.
%
\author{
% You can go ahead and credit any number of authors here,
% e.g. one 'row of three' or two rows (consisting of one row of three
% and a second row of one, two or three).
%
% The command \alignauthor (no curly braces needed) should
% precede each author name, affiliation/snail-mail address and
% e-mail address. Additionally, tag each line of
% affiliation/address with \affaddr, and tag the
% e-mail address with \email.
%
% 1st. author
\alignauthor
Patrick Breen\\
       \affaddr{The Institute of Bioinformatics}\\
       \affaddr{The University of Georgia}\\
       \affaddr{Athens, Georgia}\\
       \email{pbreen@uga.edu}
% 2nd. author
\alignauthor
Shannon Quinn\titlenote{Corresponding author.}\\
       \affaddr{Institute of Computer Science}\\
       \affaddr{University of Georgia}\\
       \affaddr{Athens, Georgia}\\
       \email{squinn@cs.uga.edu}
}



\maketitle
\begin{abstract}

Pre-Exposure Prophylaxis (PrEP) is a recently developed therapy for the prevention of Human Immunodeficiency Virus (HIV). The treatment is available as a pill named Truvada and is taken once a day for as much as 99\% protection from infection when exposed to HIV. While medically effective, PrEP suffers from high drug costs, HIV-related social stigma, and under-informed health providers and patients. This paper contributes a data mining and machine learning strategy that monitors Twitter social media data. Our results show that we can identify trends over time, and positive and negative PrEP related tweets. These results can be used by public health professionals to inform and protect at risk individuals from HIV. 

%These methods may also be useful to identify and preempt HIV outbreaks before they reach epidemic levels.

\end{abstract}


%
% The code below should be generated by the tool at
% http://dl.acm.org/ccs.cfm
% Please copy and paste the code instead of the example below. 
%
% TODO: this section
\begin{CCSXML}

\end{CCSXML}


%
% End generated code
%

%
%  Use this command to print the description
%
\printccsdesc

% We no longer use \terms command
%\terms{Theory}

\keywords{ Social Media, Topic Modelling, Document Embedding}

\section{Introduction}
Example citation (needed right now to compile):\cite{Lamport:LaTeX}

Introduce and literature review of:
1) PrEP, HIV, Twitter

 - social impact issues, efficacy, adherence issues, other STDs, Austin (Scott County) Indiana Outbreak as example
 
 - High cost of actual drug medication, and unclear health insurance situation.
 
 - Many health providers do not know about drug.
 
 - specifically other papers that did mining Twitter for HIV
 
 - Here is a paper that did twitter data mining for flu prediction:
 
 %http://snap.stanford.edu/soma2010/papers/soma2010_16.pdf
 
 Talk about how it's harder to get feedback/ account for HIV infections compared with CDC baseline data for flu.


2) Word2Vec, Doc2Vec

 - theory and application examples

3) Dynamic Topic models, Latent Dirichlet allocation

- theory and application examples

\section{Results}



We sought to determine trends in HIV and PrEP discourse on twitter, to inform and coordinate public health efforts aiming to promote PrEP adoption and adherence for at-risk individuals. We collected 624,569 tweets containing at least one of the following words 'HIV', 'AIDS', 'truvada', 'prophylaxis', 'imtesting', 'PrEP' from Twitter's streaming API. The tweets were restricted to English language, and the collection dates spanned from the 47th week of 2015 to the 14th week of 2016. The tweets were and cleaned of exotic characters.

We excluded non-English tweets, and also tweets that did not originate in contiguous United States time zones. A subset of the tweets we collected had geolocation data available. We found that tweets were largely concentrated on US and Canadian metro areas (Figure 1).

% Prior to topic modelling, tweets were cleaned of high and low frequency words, and transformed by Term Frequency Inverse Document Frequency (TFIDF) processing.

\begin{figure}
\centering
\includegraphics[height=2.5in, width=3.5in]{map}
\caption{Plot of geolocated tweets.}
\end{figure}

\subsection{Word and Document Similarity}

% TODO work this section Tuesday

The first analyses that we performed sought to identify certain keywords, hashtags, tweets and users, that were discussing HIV and PrEP related contexts. Word2Vec and the related method, Paragraph2Vec are unsupervised machine learning methods that have performed well at embedding natural language in a semantic vector space. In our analysis, Word2Vec allows us to determine semantically similar words to a query word, while Paragraph2Vec allows us to determine similar tweets, users and hashtags to a query hashtag.

% want to do a tSNE plot, but only on things that are relatively dissimilar. For example do HIV, truvada, STDs, testing related, awareness related, ... and throw away or merge labels 

% table 1 - w2v PrEP
\begin{table}
\centering
\caption{Cosine Similarity to 'PrEP'}
\begin{tabular}{|l|c|} \hline
Related Word & Cosine Similarity to 'PrEP'\\ \hline
\hline\end{tabular}
\end{table}

% table 2 - d2v PrEP
\begin{table}
\centering
\caption{Cosine Similarity to '\#truvada'}
\begin{tabular}{|l|c|} \hline
Related Hashtag/Tweet & Cosine Similarity to '\#truvada'\\ \hline
\hline\end{tabular}
\end{table}

% show PCA for each table above (remember to mention percent varience)

\subsection{Time Domain}

Next we sought to identify some temporal trends in PrEP related trends. We used Dynamic Topic Modelling (DTM) to identify how certain topics change over time. In DTM, documents are grouped in several corpuses that represent different points in time. Latent Dirichlet Analysis (LDA) is then performed on each corpus, to extract a topic distribution. The posterior distribution from time $t_n$ is used as the prior for time $t_{n+1}$. We specified 10 topics and used each week's worth of tweets over a 30 week period as our time points.

% might want to explain at a high level how DTM works here

We identified two topics that showed relevant trends. In topic 5 we see that the keyword 'prep' remains relatively constant, while 'prevention' and 'truvada' decline over time. 'hivaids' increases and then decreases in magnitude over the course of the time series (Figure 3). These dynamics may indicate short term events in hivaids and PrEP-related conversation on twitter over the time period studied.

% figure 3
\begin{figure}
\centering
\includegraphics[height=2.5in, width=3.5in]{DTMfig1}
\caption{DTM topic 5, word prevalence over time. Date is YYYY-WW.}
\end{figure}

We found that topic 4 captured several keywords related to World AIDS Day (Figure 4). We can see that all of these terms peak in the 47th week of 2015 and then decline into 2016. This correlates well with the actual date of World AIDS Day, December 1st. Furthermore,while December 1st is World AIDS day, the whole month of December is AIDS Awareness month. We are clearly seeing the word 'awareness' peak later and last longer that the word 'WorldAIDSDay' implying that it is correlated to the whole month of December. While we aren't specifically interested in World AIDS Day, or AIDS awareness month, to inform our understanding of PrEP discussion, this observation validates our ability to identify temporal events using DTM. 

% figure 4
\begin{figure}
\centering
\includegraphics[height=2.5in, width=3.5in]{DTMfig2}
\caption{DTM topic 5, word prevalence over time. Date is YYYY-WW.}
\end{figure}

These results demonstrate our ability to extract relevant HIV and PrEP related information from twitter that accurately captures time-dependant fluctuations. Public health professionals should be able to monitor these temporal trends to determine the relative interest in PrEP related social media discourse. This could lead to a system for early detection of HIV outbreak detection, or other serious developments.

\subsection{User Timeline Analysis}

% TODO work this section (re download and re-run) Tuesday

We wanted to identify what Twitter users that mentioned PrEP were discussing in their other tweets. We identified users that were most similar to PrEP according to our Paragraph2Vec results, and downloaded their most recent 3000 tweets. We took the top 300 users that had at least 200 words in the combined tweets of their tweet history. For each user, we concatenated all of their tweets, and performed LDA topic modelling on the set of user-time line documents.

When we examine a clustermap of users vs. topics, we see that the majority of these users are discussing topics 5, 1, and 4 (Figure 5). When we look up the top words in the corresponding topic distributions, we see that topics 1 and 4 seem to be related to republican party politics.

% figure 5
\begin{figure}
\centering
\includegraphics[height=2.5in, width=3.5in]{user_timeline_clustermap}
\caption{Clustermap of users vs. topics for the top 300 users related to PrEP.}
\end{figure}

% table 3
\begin{table*}
\centering
\caption{Topic modeling on PrEP-related users\' timelines.}
\begin{tabular}{|l|c|c|c|c|c|c|c|c|c|c|} \hline
Topic Number & Word 0 & Word 1 & Word 2 & Word 3 & Word 4 & Word 5 & Word 6 & Word 7 & Word 8 & Word 9\\ \hline
0 & hivaids & condoms & bitcoin & stigma & cdcstd & kanyewest & nyhaad & entrepreneur & realestate & blacklivesmatter\\ \hline
1 & ang & ng & tcot & ako & sa & ko & pjnet & realdonaldtrump & gopdebate & cruzcrew\\ \hline
2 & fertility & infertility & meme & mxico & rp & deactivate & rail & roc & offensive & feedly\\ \hline
3 & colombia & pozlivingbc & fe & repostapp & sprite & bccfe & thewalkingdead & npinchat & interior & wellness\\ \hline
4 & businessinsider & stacks & noh & teaparty & sk & holi & alzheimers & caregiver & asa & guru\\ \hline
5 & armenia & wordpress & georgia & topping & lgbtqia & yah & faction & checkout & narendramodi & examination\\ \hline
6 & knitting & lista & naral & gust & worldbank & bigdata & haiku & vdeo & mhealth & hah\\ \hline
7 & nigga & niggas & bernie & lmao & nhsengland & bitches & bae & uniteblue & il & gop\\ \hline
8 & socialmedia & seo & socialmediamarketing & der & und & entrepreneur & ist & nowplaying & foxbusiness & enews\\ \hline
9 & collage & mileycyrus & undetectable & ddlovato & casa & cnet & qotd & vacations & nashville & heros \\ \hline

\hline\end{tabular}
\end{table*}

Together these results suggest that PrEP users are involved in political discussions, and are internationally focused.



\subsection{Sentiment Classification}

% TODO work this section Tuesday (give example positive and negative tweets)

Lastly we trained a classifier to classify the sentiment of HIV and PrEP related tweets either positive or negative. This classifier would allow public health professionals to quickly identify positive and negative PrEP related tweets to guide HIV prevention efforts. We obtained a set of 1.6 million tweets with sentiment labels, either positive or negative from Sanders Analytics (http://www.sananalytics.com/lab/twitter-sentiment/). Then we trained a simple logistic regression classifier on 1.2 million paragraph-vectors from the sentiment dataset. We found that our classifier had an accuracy of 69\% using a portion of the sentiment tweets not used in training, as a validation set.

 We chose to use a relatively simple classifier model (logistic regression) and stop training at

We then used this classifier to classify our PrEP related tweets into positive or negative labels. We reported the most positive, and most negative tweets, by log(probability), on our full dataset, and on tweets that specifically mention either 'prep' or 'truvada' (Table 4).

% do a top positive tweets table (also with tweet ID and log prob of classification)

% do a top negative tweets table (also with tweet ID and log prob of classification)


\section{Conclusions}

- Moving towards HIV outbreak prediction. 

- Automatically identifying PrEP adoption/adherence sentiment in US population.



%\end{document}  % This is where a 'short' article might terminate

%ACKNOWLEDGMENTS are optional
\section{Acknowledgments}

Acknowledgements (optional) go here.

%
% The following two commands are all you need in the
% initial runs of your .tex file to
% produce the bibliography for the citations in your paper.
\bibliographystyle{abbrv}
\bibliography{sigproc}  % sigproc.bib is the name of the Bibliography in this case
% You must have a proper ".bib" file
%  and remember to run:
% latex bibtex latex latex
% to resolve all references
%
% ACM needs 'a single self-contained file'!
%
% no appendix for now...


\subsection{References}




\end{document}
